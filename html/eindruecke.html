<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tänzle</title>
    <link rel="icon" href="/img/logo/taenzle/taenzle_logo_small.png" />
    <link rel="stylesheet" href="/styles.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
      addEventListener("DOMContentLoaded", () => {
        $("header").load("/header.html");
        $("footer").load("/footer.html");
      });
    </script>
    <script>
      const add_to_gallery = (eindruecke) => {
        let gallery = document.getElementById("gallery");
        let template = document.querySelector("#eindruck-template");
        for (const e of eindruecke) {
          let clone = template.content.cloneNode(true);
          clone.querySelector(".eindruck-titel").textContent = e["text"];
          clone.querySelector("img").src = e["image"];
          clone.querySelector(".eindruck-datum").textContent = e["date"];
          gallery.appendChild(clone);
        }
      };

      fetch("/eindruecke.json")
        .then((res) => {
          return res.text();
        })
        .then((eindruecke) => {
          const e = JSON.parse(eindruecke);
          return add_to_gallery(e);
        });
    </script>
  </head>
  <body>
    <header></header>

    <section class="eindruecke">
      <h2>Eindrücke</h2>
      <div class="gallery" id="gallery">
        <template id="eindruck-template">
          <figure>
            <figcaption>
              <h3 class="eindruck-titel"></h3>
              <p class="eindruck-datum"></p>
            </figcaption>
            <img src="" />
          </figure>
        </template>

        <!-- <figure> -->
        <!--   <figcaption> -->
        <!--     Tanzworkshop mit der Jubla NiederwilTanzworkshop mit der Jubla -->
        <!--     Niederwil -->
        <!--   </figcaption> -->
        <!--   <img src="/img/eindruecke/zug_mai.jpg" /> -->
        <!-- </figure> -->
        <!-- <figure> -->
        <!--   <figcaption>Tanzworkshop mit der Jubla Niederwil</figcaption> -->
        <!--   <img src="/img/eindruecke/zug_mai.jpg" /> -->
        <!-- </figure> -->
      </div>
    </section>
    <footer></footer>
  </body>
</html>
